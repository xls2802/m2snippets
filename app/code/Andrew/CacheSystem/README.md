##Система кэширования

Система кэширования Magento 2 поможет магазину работать лучше и быстрее, особенно если много содержимого в магазине.

####Типы кэшей:

- Настройки (Configuration) – очистите этот кэш после внесения изменений в файлы настроек.
- Макеты (Layouts) –очистите этот кэш после внесения изменений в файлы макетов.
- Вывод блоков HTML (Blocks HTML output) – очистите после изменения слоя вида вашего магазина.
- Данные коллекций (Collections Data) – как правило этот вид кэша автоматически очищается Magento, но иногда пользовательские модули могут добавлять записи, которые Magento сам не сможет очистить, в этот случае очистите кэш вручную.
- Данные отражений (Reflection Data) – кэширует любые данные отражений интерфейсов API.
- DDL действия базы данных (Database DDL operations) – автоматически очищается Magento.
- Типы и атрибуты EAV (EAV types and attributes) – собирает метаданные касательно атрибутов элементов.
- Настройка интеграции (Integrations Configuration) – очистите при добавлении новой или изменении существующей интеграции.
- Настройка API Интеграций (Integrations API Configuration) – кэширует API настройку интеграций вашего магазина.
- Кэш страницы (Page Cache) – очистите после внесения изменений в страницы.
- Переводы (Translations) – очистите после перевода модулей.
- Настройка веб-сервисов (Web Services Configuration) – кэширует Веб API Структуру вашего сайта.

####Способы чистки кэша:
- Через админ панель. Для этого заходим в админку и Система > Работа с кэш (System>Cache Management).
Можно очистить отдельно каждый из типов кэшей или сразу весь кэш.
Для того чтобы очистить весь кэш Magento 2, нажать на кнопку под названием Очистить весь кэш Magento (Flush Magento Cache).
- Через консоль. Есть 2 команды:
```
php bin/magento cache:flush
php bin/magento cache:clean
```
Есть небольшое отличие в результате запуска этих команд.

Первая команда очищает все типы кэшей и даже не включенных. Поэтому может повлиять на другие процессы приложений, которые используют то же хранилище кэша.

Вторая - удаляет все элементы только из включенных типов кэша Magento. Эта опция не влияет на другие процессы или приложения, потому что она очищает только кеш, который использует Magento. Можно указать отдельно типы кэшей для чистки. Поддерживаются типы:
```
config, layout, block_html, collections, reflection, db_ddl, eav,
customer_notification, target_rule, full_page, config_integration,
config_integration_api, translate, config_webservice
```

Также при помощи консольной команды можно включать/выключать определенный тип кэша:
```
php bin/magento cache:enable CACHE_TYPE
php bin/magento cache:disable CACHE_TYPE
```
- через вотчер. Называется Magento 2 Cache Clean (https://github.com/mage2tv/magento-cache-clean). Необходимо установить локально node.js для запуска скрипта. 
Его можно установить только для одного проекта через компоузер:
```
composer require --dev mage2tv/magento-cache-clean
```
Для запуска вотчера в корне проекта запускаем команду:
```
vendor/bin/cache-clean.js --watch
```
Можно его установить глобально для всех проектов. Для этого устанавливаем глобально:
```
composer global require --dev mage2tv/magento-cache-clean
```
Устанавливаем системный путь:
```
export PATH="$PATH:$HOME/.config/composer/vendor/bin"
```

И теперь в корне любого Магенто 2 проекта запускаем:
```
cache-clean.js -w
```